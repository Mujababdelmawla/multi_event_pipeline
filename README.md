creating a multi event pipeline